<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes">

    <title>sdl-srch-grid demo</title>
    <script type="module" src="../node_modules/@webcomponents/webcomponentsjs/webcomponents-bundle.js"></script>
    <script type="module" src="../src/components/sdl-srch-grid.js"></script>
    <script type="module">
      import '@polymer/iron-demo-helpers/demo-pages-shared-styles.js';
      import '@polymer/iron-demo-helpers/demo-snippet.js';
      import '@polymer/paper-input/paper-input.js';
      import '@polymer/iron-icons/iron-icons.js';
      import '@polymer/iron-icon/iron-icon.js';
      import '@polymer/iron-form/iron-form.js';
      import '@polymer/iron-pages/iron-pages.js';
      import '@vaadin/vaadin-tabs/vaadin-tabs.js';
    </script>

    <custom-style>
      <style is="custom-style" include="demo-pages-shared-styles">
        .details {
          display: flex;
          font-size: 20px;
        }

        img {
          width: 80px;
          height: 80px;
          margin: 20px;
        }
      </style>
      
    </custom-style>
  </head>
  <body>

    <vaadin-tabs id="tabs" selected="0">
    <vaadin-tab>Basic Usage w slots</vaadin-tab>
    <vaadin-tab>Select Column</vaadin-tab>
    <vaadin-tab>70,000 Records!</vaadin-tab>
    <vaadin-tab>Tree View</vaadin-tab>
    <!-- <vaadin-tab>Google like</vaadin-tab> -->
  </vaadin-tabs>

  <iron-pages id="pages">

    <div class="vertical-section-container centered">
      <h1>Basic sdl-srch-grid demo (using slots)</h1>
      <p><u>Note: Type in search field to generate ajax call(s) to server.</u>  
        Notice you can use any input type fields in the slot as well as any formatting you wish.  We are using txt files for the ajax so don't be worried about the filtering not working;)</p>
      <demo-snippet>
        <template>         

<!-- If using as a stand-alone-component:  use sdl-srch-grid-loader.js
<script src="./node_modules/@sdl-web/sdl-srch-grid/build-component/sdl-srch-grid-loader.js"></script> -->

<!-- If using in an existing polymer project:  use sdl-srch-grid.js directly-->
<!-- <script type="import" src="@sdl-web/sdl-srch-grid/src/components/sdl-srch-grid.js"></script>  -->

<!-- Now add sdl-srch-grid to html section -->
<sdl-srch-grid id='srch-grid' url='./data/srch-data-8000.txt'>  

  <!-- Put whatever input fields (and styling) you want into 'search-slot' -->
  <form slot="search-slot">
    <paper-input name="input1" label="Filter Search">
      <iron-icon icon="search" id="srch-icon" slot="prefix"></iron-icon>
    </paper-input>
    Show Active <input type="checkbox" name="active"></input>
  </form>

  <!-- Add the vaadin-grid into the 'grid-slot' -->
  <vaadin-grid slot="grid-slot">
    <vaadin-grid-column>
      <template class="header">Name</template>
      <template>[[item.name]]</template>
    </vaadin-grid-column>
    <vaadin-grid-column>
      <template class="header"><vaadin-grid-sorter path="gender">Gender</vaadin-grid-sorter></template>
      <template>[[item.gender]]</template>
    </vaadin-grid-column>
    <vaadin-grid-column>
      <template class="header">Eye Color</template>
      <template>[[item.eyeColor]]</template>
    </vaadin-grid-column>   
  </vaadin-grid>  

</sdl-srch-grid>

        </template>
      </demo-snippet>
    </div>

    <div class="vertical-section-container centered">
        <h1>Adding in a Selection Column with row-stripes</h1>
        <demo-snippet>
          <template>         
  
  <!-- If using as a stand-alone-component:  use sdl-srch-grid-loader.js
  <script src="./node_modules/@sdl-web/sdl-srch-grid/build-component/sdl-srch-grid-loader.js"></script> -->
  
  <!-- If using in an existing polymer project:  use sdl-srch-grid.js directly-->
  <!-- <script type="import" src="@sdl-web/sdl-srch-grid/src/components/sdl-srch-grid.js"></script>  -->
  
  <!-- Now add sdl-srch-grid to html section -->
  <sdl-srch-grid id='srch-grid' url='./data/srch-data-8000.txt'>  
  
    <!-- Put whatever input fields (and styling) you want into 'search-slot' -->
    <form slot="search-slot">
      <paper-input name="input1" label="Filter Search">
        <iron-icon icon="search" id="srch-icon" slot="prefix"></iron-icon>
      </paper-input>
    </form>
  
    <!-- Add the vaadin-grid into the 'grid-slot' -->
    <vaadin-grid theme='row-stripes' slot="grid-slot">
      <vaadin-grid-selection-column auto-select> </vaadin-grid-selection-column>
      <vaadin-grid-column>
        <template class="header">Name</template>
        <template>[[item.name]]</template>
      </vaadin-grid-column>
      <vaadin-grid-column>
        <template class="header"><vaadin-grid-sorter path="gender">Gender</vaadin-grid-sorter></template>
        <template>[[item.gender]]</template>
      </vaadin-grid-column>
      <vaadin-grid-column>
        <template class="header">Eye Color</template>
        <template>[[item.eyeColor]]</template>
      </vaadin-grid-column>     
    </vaadin-grid>
  </sdl-srch-grid>
  
          </template>
        </demo-snippet>
      </div>

    <div class="vertical-section-container centered">
        <h1>Smooth scrooling with 70,000 records!</h1>
      <demo-snippet>
        <template>         

<!-- Now add sdl-srch-grid to html section -->
<sdl-srch-grid id='srch-grid' url='./data/srch-data-70000.txt'>  

  <!-- Put whatever input fields (and styling) you want into 'search-slot' -->
  <form slot="search-slot">
    <paper-input name="input1" label="Filter Search">
      <iron-icon icon="search" id="srch-icon" slot="prefix"></iron-icon>
    </paper-input>
  </form>

  <!-- Add the vaadin-grid into the 'grid-slot' -->
  <vaadin-grid slot="grid-slot">
    <vaadin-grid-column  >
      <template class="header">Id</template>
      <template>[[item._id]]</template>
    </vaadin-grid-column>
    <vaadin-grid-column  >
      <template class="header">Name</template>
      <template>[[item.name]]</template>
    </vaadin-grid-column>
    <vaadin-grid-column  >
      <template class="header"><vaadin-grid-sorter path="gender">Gender</vaadin-grid-sorter></template>
      <template>[[item.gender]]</template>
    </vaadin-grid-column>
    <vaadin-grid-column  >
      <template class="header">Eye Color</template>
      <template>[[item.eyeColor]]</template>
    </vaadin-grid-column>   
  </vaadin-grid>  

</sdl-srch-grid>

        </template>
      </demo-snippet>
    </div>


    <div class="vertical-section-container centered">
        <h1>Tree View using 'expandall' flag</h1>
      <demo-snippet>
        <template>         

<!-- Now add sdl-srch-grid to html section -->
<sdl-srch-grid id='srch-grid'  url='./data/srch-data-tree.txt' expandall>  

  <!-- Put whatever input fields (and styling) you want into 'search-slot' -->
  <form slot="search-slot">
    <paper-input name="input1" label="Filter Search">
      <iron-icon icon="search" id="srch-icon" slot="prefix"></iron-icon>
    </paper-input>
  </form>

  <!-- Add the vaadin-grid into the 'grid-slot' -->
  <vaadin-grid slot="grid-slot">
    <vaadin-grid-column  >
      <template class="header">Name</template>
          <template>
            <vaadin-grid-tree-toggle leaf="[[!item.hasChildren]]" expanded="{{expanded}}" level="[[level]]">
              [[item.name]]
            </vaadin-grid-tree-toggle>
          </template>
    </vaadin-grid-column>
    <vaadin-grid-column  >
      <template class="header">Gender</template>
      <template>[[item.gender]]</template>
    </vaadin-grid-column>
    <vaadin-grid-column  >
      <template class="header">Eye Color</template>
      <template>[[item.eyeColor]]</template>
    </vaadin-grid-column>     
  </vaadin-grid>

</sdl-srch-grid>

        </template>
      </demo-snippet>
    </div>
    <div class="vertical-section-container centered">
      <h1>Google like searching</h1>
    <demo-snippet>
      <template>         

<!-- Now add sdl-srch-grid to html section -->
<sdl-srch-grid id='srch-grid' url='./data/srch-data-8000.txt' theme="row-stripes">  

<!-- Put whatever input fields (and styling) you want into 'search-slot' -->
<form slot="search-slot">
  <paper-input name="input1" label="Filter Search">
    <iron-icon icon="search" id="srch-icon" slot="prefix"></iron-icon>
  </paper-input>
</form>

  <template class="row-details"  >
    <div class="details">
      <p>Hi! My name is [[item.name.first]]!<br><small>[[item.email]]</small></p>
    </div>
  </template>

  <!-- Add the vaadin-grid into the 'grid-slot' -->
<vaadin-grid theme='row-stripes' slot="grid-slot">
  <vaadin-grid-column>
    <template class="header">Id</template>
    <template>[[item._id]]</template>
  </vaadin-grid-column>
  <vaadin-grid-column  >
    <template class="header">Name</template>
    <template>[[item.name]]</template>
  </vaadin-grid-column>
  <vaadin-grid-column  >
    <template class="header"><vaadin-grid-sorter path="gender">Gender</vaadin-grid-sorter></template>
    <template>[[item.gender]]</template>
  </vaadin-grid-column>
  <vaadin-grid-column  >
    <template class="header">Eye Color</template>
    <template>[[item.eyeColor]]</template>
  </vaadin-grid-column>     
</vaadin-grid>

</sdl-srch-grid>

      </template>
    </demo-snippet>
  </div>
</iron-pages> 


    <script>

    addEventListener('DOMContentLoaded', function(){ 
      console.log("Srch Grid Loaded...");
      var tabs = document.getElementById('tabs');
      var pages = document.getElementById('pages');
      tabs.addEventListener('click', function(e,b,c) {
        setTimeout(function(){ 
          pages.selected = tabs.selected;
        }, 100);
      });
      pages.selected = 0;

    });
    </script>
  </body>
</html>
